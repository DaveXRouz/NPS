# NPS V4 Environment Configuration
# Copy to .env and fill in values

# ─── PostgreSQL ───
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_DB=nps
POSTGRES_USER=nps
POSTGRES_PASSWORD=changeme

# ─── Redis ───
REDIS_HOST=redis
REDIS_PORT=6379

# ─── API Service ───
API_HOST=0.0.0.0
API_PORT=8000
API_SECRET_KEY=changeme-generate-a-real-secret
API_CORS_ORIGINS=http://localhost:5173,http://localhost:3000
JWT_ALGORITHM=HS256
JWT_EXPIRE_MINUTES=1440

# ─── Scanner Service (Rust) ───
SCANNER_GRPC_HOST=scanner-service
SCANNER_GRPC_PORT=50051

# ─── Oracle Service (Python) ───
ORACLE_GRPC_HOST=oracle-service
ORACLE_GRPC_PORT=50052

# ─── Telegram ───
NPS_BOT_TOKEN=
NPS_CHAT_ID=
TELEGRAM_ENABLED=true
TELEGRAM_NOTIFY_BALANCE=true
TELEGRAM_NOTIFY_ERROR=true
TELEGRAM_NOTIFY_DAILY=true

# Admin-only Telegram chat ID for system alerts (Session 36, falls back to NPS_CHAT_ID)
NPS_ADMIN_CHAT_ID=

# ─── Telegram Bot (Session 33) ───
TELEGRAM_BOT_API_URL=http://api:8000/api
# Service key for bot→API auth (falls back to API_SECRET_KEY if empty)
TELEGRAM_BOT_SERVICE_KEY=
TELEGRAM_RATE_LIMIT=20

# ─── Telegram Daily Settings (Session 35, optional) ───
TELEGRAM_FRONTEND_URL=http://localhost:5173

# ─── Balance Check ───
BTC_RPC_ENDPOINT=https://blockstream.info/api
ETH_RPC_ENDPOINTS=https://eth.llamarpc.com,https://rpc.ankr.com/eth
BTC_DELAY=0.5
ETH_DELAY=0.3

# ─── Scanner Defaults ───
SCANNER_CHAINS=btc,eth
SCANNER_BATCH_SIZE=1000
SCANNER_CHECK_EVERY_N=5000
SCANNER_MODE=both
SCANNER_THREADS=4
SCANNER_CHECKPOINT_INTERVAL=100000

# ─── Security ───
ENCRYPTION_ENABLED=true
# V3 master password (needed for data migration only)
V3_MASTER_PASSWORD=
# V4 encryption key (generate with: python3 -c "import secrets; print(secrets.token_hex(32))")
NPS_ENCRYPTION_KEY=
# V4 encryption salt (generate with: python3 -c "import secrets; print(secrets.token_hex(16))")
NPS_ENCRYPTION_SALT=

# ─── Daily Scheduler ───
NPS_DAILY_SCHEDULER_ENABLED=true
NPS_DAILY_SCHEDULER_HOUR=0
NPS_DAILY_SCHEDULER_MINUTE=5

# ─── AI / Oracle ───
# Anthropic API key for Oracle AI interpretations (optional — degrades gracefully without it)
ANTHROPIC_API_KEY=

# ─── Logging ───
LOG_LEVEL=INFO
LOG_FORMAT=json

# ─── Railway Deployment ───
# DATABASE_URL, REDIS_URL, PORT are set automatically by Railway plugins
# RAILWAY_ENVIRONMENT=production

# ─── Production ───
PRODUCTION_DOMAIN=
FORCE_HTTPS=true
SWAGGER_ENABLED=true
DEBUG=false
